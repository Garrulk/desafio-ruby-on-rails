<table>
  <thead>
  <tr>
    <th>Store name</th>
    <th>Balance</th>
    <th colspan="3"></th>
  </tr>
  </thead>

  <tbody>

    <tr>
      <td>BAR DO JOÃO</td>
      <% joao1 = @transactions.where(store_name: "BAR DO JOÃO", kind:[2, 3, 9]).sum(:value)*-1 %>
      <% joao2 = @transactions.where(store_name: "BAR DO JOÃO", kind:[1, 4, 5, 6, 7, 8]).sum(:value) %>
      <td><%= joao1 + joao2 %></td>
    </tr>
    <tr>
      <td>LOJA DO Ó - FILIAL</td>
      <% filial1 = @transactions.where(store_name: "LOJA DO Ó - FILIAL", kind:[2, 3, 9]).sum(:value)*-1 %>
      <% filial2 = @transactions.where(store_name: "LOJA DO Ó - FILIAL", kind:[1, 4, 5, 6, 7, 8]).sum(:value) %>
      <td><%= filial1 + filial2 %></td>
    </tr>
    <tr>
      <td>LOJA DO Ó - MATRIZ</td>
      <% matriz1 = @transactions.where(store_name: "LOJA DO Ó - MATRIZ", kind:[2, 3, 9]).sum(:value)*-1 %>
      <% matriz2 = @transactions.where(store_name: "LOJA DO Ó - MATRIZ", kind:[1, 4, 5, 6, 7, 8]).sum(:value) %>
      <td><%= matriz1 + matriz2 %></td>
    </tr>
    <tr>
      <td>MERCADO DA AVENIDA</td>
      <% mercado1 = @transactions.where(store_name: "MERCADO DA AVENIDA", kind:[2, 3, 9]).sum(:value)*-1 %>
      <% mercado2 = @transactions.where(store_name: "MERCADO DA AVENIDA", kind:[1, 4, 5, 6, 7, 8]).sum(:value) %>
      <td><%= mercado1 + mercado2 %></td>
    </tr>
    <tr>
      <td>MERCEARIA 3 IRMÃOS</td>
      <% mercearia1 = @transactions.where(store_name: "MERCEARIA 3 IRMÃOS", kind:[2, 3, 9]).sum(:value)*-1 %>
      <% mercearia2 = @transactions.where(store_name: "MERCEARIA 3 IRMÃOS", kind:[1, 4, 5, 6, 7, 8]).sum(:value) %>
      <td><%= mercearia1 + mercearia2 %></td>
    </tr>
  </tbody>
</table>

<%= link_to 'Back', transactions_path %>